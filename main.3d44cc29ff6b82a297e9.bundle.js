(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{175:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useDrag}));var react=__webpack_require__(0);function useDrag(props){var _a,_b,ref=props.ref,disabled=props.disabled,container=null!=(_b=null===(_a=props)||void 0===_a?void 0:_a.container)?_b:document.body,initPosRef=Object(react.useRef)(null),_c=Object(react.useState)({x:0,y:0}),pos=_c[0],setPos=_c[1];return Object(react.useEffect)((function(){var _a;if(!disabled){var style=null===(_a=ref.current)||void 0===_a?void 0:_a.style;if(style)return style.position="absolute",function(){style.position=""}}}),[ref,disabled]),Object(react.useEffect)((function(){if(!disabled){var el=container;if(el){var handler=function handler(e){var _a;if(null===(_a=ref.current)||void 0===_a?void 0:_a.contains(e.target)){var _b=e instanceof MouseEvent?e:e.changedTouches[0],pageX=_b.pageX,pageY=_b.pageY;initPosRef.current={x:pageX,y:pageY}}};return el.addEventListener("mousedown",handler,{passive:!1}),el.addEventListener("touchstart",handler,{passive:!1}),function(){el.removeEventListener("mousedown",handler),el.removeEventListener("touchstart",handler)}}}}),[container,disabled,ref]),Object(react.useEffect)((function(){if(!disabled){var el=container;if(el){var handler=function handler(e){var _a,_b;e.preventDefault(),e.stopPropagation();var initPos=initPosRef.current;if(initPos){var _c=e instanceof MouseEvent?e:e.changedTouches[0],pageX=_c.pageX,pageY=_c.pageY,x=initPos.x,y=initPos.y,style=null===(_b=null===(_a=ref)||void 0===_a?void 0:_a.current)||void 0===_b?void 0:_b.style;style&&(style.transform="translate("+(pageX-x)+"px, "+(pageY-y)+"px)")}};return el.addEventListener("mousemove",handler,{passive:!1}),el.addEventListener("touchmove",handler,{passive:!1}),function(){el.removeEventListener("mousemove",handler),el.removeEventListener("touchmove",handler)}}}}),[container,disabled,ref]),Object(react.useEffect)((function(){if(!disabled){var el=container;if(el){var handler=function handler(){var _a,_b,_c,_d,el1=null===(_a=ref)||void 0===_a?void 0:_a.current;if(el1){var _e=getComputedStyle(el1),top=_e.top,left=_e.left,_f=(_b=_e.transform.match(/-?[0-9]+(\.[0-9]*)?/g),null!=_b?_b:["0","0","0","0","0","0"]).map((function(s){return Math.ceil(parseInt(s))})),tx=_f[4],ty=_f[5],_g=[tx+parseInt(left.replace("px",""),10),ty+parseInt(top.replace("px",""),10)],x=_g[0],y=_g[1],style=null===(_d=null===(_c=ref)||void 0===_c?void 0:_c.current)||void 0===_d?void 0:_d.style;style&&(style.transform="",style.top=y+"px",style.left=x+"px",setPos({x:x,y:y}),initPosRef.current=null)}};return el.addEventListener("mouseup",handler,{passive:!1}),el.addEventListener("touchend",handler,{passive:!1}),function(){el.removeEventListener("mouseup",handler),el.removeEventListener("touchend",handler)}}}}),[container,disabled,ref]),pos}},281:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),h=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__).a.createElement;__webpack_exports__.a=function(props){return h("div",{},h("div",{style:{padding:"0 20px"},dangerouslySetInnerHTML:{__html:props.md.default}}),h("style",{dangerouslySetInnerHTML:{__html:"\n@import url(https://fonts.googleapis.com/css?family=Merriweather:300italic,300);\nh1, h1 code, h2, h2 code, h3, h3 code, h4, h4 code {\n  color: #333;\n}\nhtml {\n  font-size: 16px;\n  max-width: 700px;\n  margin: auto;\n}\nbody {\n  color: #444;\n  font-family: 'Merriweather', Georgia, serif;\n  max-width: 700px;\n  margin: auto;\n}\n/* === A bit of a gross hack so we can have bleeding divs/blockquotes. */\ndiv {\n  width: 100%;\n}\ndiv img {\n  width: 100%;\n}\nblockquote p {\n  font-size: 1.5rem;\n  font-style: italic;\n  margin: 1rem auto 1rem;\n  max-width: 48rem;\n}\nli {\n  margin-left: 2rem;\n}\n/* Counteract the specificity of the gross *:not() chain. */\nh1 {\n  padding: 1m 0 !important;\n}\n/*  === End gross hack */\np {\n  color: #555;\n  height: auto;\n  line-height: 1.45;\n}\npre, code {\n  font-family: Menlo, Monaco, \"Courier New\", monospace;\n  color: #42b983;\n}\npre, pre code {\n  color: #000;\n}\npre {\n  background-color: #fafafa;\n  font-size: .8rem;\n  overflow-x: scroll;\n  padding: 1.125em;\n}\na, a pre, a code,\na:visited {\n  color: #3498db;\n}\na:hover,\na:focus,\na:active {\n  color: #2980b9;\n}\n        "}}))}},285:function(module,exports,__webpack_require__){__webpack_require__(286),__webpack_require__(437),module.exports=__webpack_require__(438)},353:function(module,exports){},438:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(119),_storybook_addon_options__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(280);Object(_storybook_addon_options__WEBPACK_IMPORTED_MODULE_1__.setOptions)({sortStoriesByKind:!1,showStoriesPanel:!0,showAddonPanel:!0,showSearchBox:!1,addonPanelInRight:!0,hierarchySeparator:/\//,hierarchyRootSeparator:/\|/,sidebarAnimations:!1});var req=__webpack_require__(619);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)((function loadStories(){req.keys().forEach((function(filename){return req(filename)}))}),module)}.call(this,__webpack_require__(218)(module))},619:function(module,exports,__webpack_require__){var map={"./useDrag.story.tsx":620};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=619},620:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_src__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(175),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(121),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(119),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(173),_util_ShowDocs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(281),__makeTemplateObject=function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked};function Demo(props){var ref=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),container=document.getElementById("custom-container"),pos=Object(_src__WEBPACK_IMPORTED_MODULE_1__.a)({ref:ref,container:container,disabled:props.disabled}),tRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return Object(_src__WEBPACK_IMPORTED_MODULE_1__.a)({ref:tRef,container:container}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Container,{id:"custom-container"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Text,{ref:tRef},"x: "+pos.x+", y: "+pos.y),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Card,{ref:ref,style:{top:"30px",left:"30px"}},"click!"))}Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("hooks",module).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.withKnobs).add("Docs",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_util_ShowDocs__WEBPACK_IMPORTED_MODULE_5__.a,{md:__webpack_require__(630)})})).add("Demo",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Demo,{disabled:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.boolean)("disabled",!1)})}));var templateObject_1,templateObject_2,templateObject_3,Container=styled_components__WEBPACK_IMPORTED_MODULE_2__.a.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  width: 100vw;\n  height: 100vh;\n  background: transparent;\n"],["\n  width: 100vw;\n  height: 100vh;\n  background: transparent;\n"]))),Text=styled_components__WEBPACK_IMPORTED_MODULE_2__.a.p(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  margin: 0;\n  padding: 0;\n"],["\n  margin: 0;\n  padding: 0;\n"]))),Card=styled_components__WEBPACK_IMPORTED_MODULE_2__.a.div(templateObject_3||(templateObject_3=__makeTemplateObject(['\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  width: 30%;\n  max-width: 128px;\n  height: 30%;\n  max-height: 64px;\n  border: solid 3px #f6f9fc;\n  border-radius: 3px;\n  cursor: pointer;\n  background: white;\n  transition: box-shadow 300ms ease-in-out;\n\n  &:before {\n    transition: opacity 300ms ease-in-out;\n    content: "";\n    opacity: 0;\n    position: absolute;\n    top: -12px;\n    left: 50%;\n    transform: translate(-50%, 1px);\n    border-top: 6px solid #646464;\n    border-right: 6px solid transparent;\n    border-bottom: 6px solid transparent;\n    border-left: 6px solid transparent;\n  }\n  &:after {\n    transition: opacity 300ms ease-in-out;\n    content: "moveable";\n    opacity: 0;\n    position: absolute;\n    padding: 4px 8px;\n    top: -40px;\n    left: 50%;\n    transform: translateX(-50%);\n    background: #646464;\n    color: white;\n    font-size: 14px;\n  }\n\n  &:hover {\n    box-shadow: 0 6px 6px 0 rgba(0, 0, 0, 0.1);\n    &:before {\n      opacity: 1;\n    }\n    &:after {\n      opacity: 1;\n    }\n  }\n'],['\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  width: 30%;\n  max-width: 128px;\n  height: 30%;\n  max-height: 64px;\n  border: solid 3px #f6f9fc;\n  border-radius: 3px;\n  cursor: pointer;\n  background: white;\n  transition: box-shadow 300ms ease-in-out;\n\n  &:before {\n    transition: opacity 300ms ease-in-out;\n    content: "";\n    opacity: 0;\n    position: absolute;\n    top: -12px;\n    left: 50%;\n    transform: translate(-50%, 1px);\n    border-top: 6px solid #646464;\n    border-right: 6px solid transparent;\n    border-bottom: 6px solid transparent;\n    border-left: 6px solid transparent;\n  }\n  &:after {\n    transition: opacity 300ms ease-in-out;\n    content: "moveable";\n    opacity: 0;\n    position: absolute;\n    padding: 4px 8px;\n    top: -40px;\n    left: 50%;\n    transform: translateX(-50%);\n    background: #646464;\n    color: white;\n    font-size: 14px;\n  }\n\n  &:hover {\n    box-shadow: 0 6px 6px 0 rgba(0, 0, 0, 0.1);\n    &:before {\n      opacity: 1;\n    }\n    &:after {\n      opacity: 1;\n    }\n  }\n'])))}.call(this,__webpack_require__(218)(module))},630:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<h1 id="usedrag">useDrag</h1>\n<p>React mouse and touch drag hook</p>\n<h2 id="usage">Usage</h2>\n<pre><code class="language-typescript">import React, { useRef } from &quot;react&quot;;\nimport { useDrag } from &quot;moveable-hooks&quot;;\n\nexport function Example() {\n  const ref = useRef(null);\n  const container = document.querySelector(&quot;.container&quot;);\n\n  const { x, y } = useDrag({ ref, container });\n\n  return (\n    &lt;div className=&quot;container&quot;&gt;\n      &lt;div ref={ref}&gt;&lt;/div&gt;\n    &lt;/div&gt;\n  )\n}</code></pre>\n<h2 id="reference">Reference</h2>\n<pre><code class="language-typescript">import { RefObject } from &quot;react&quot;;\ndeclare type Props&lt;T extends HTMLElement&gt; = {\n    ref: RefObject&lt;T&gt;;\n    container?: HTMLElement;\n    disabled?: boolean;\n};\ndeclare type Pos = {\n    x: number;\n    y: number;\n};\nexport declare function useDrag&lt;T extends HTMLElement&gt;(props: Props&lt;T&gt;): Pos;\nexport {};\n</code></pre>\n'}},[[285,1,2]]]);
//# sourceMappingURL=main.3d44cc29ff6b82a297e9.bundle.js.map